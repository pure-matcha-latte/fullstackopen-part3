{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","newName","setNewName","newNumber","setNewNumber","onSubmit","e","target","type","PersonDetail","person","deletePerson","name","number","onClick","Persons","persons","map","Notification","message","style","padding","position","top","color","background","content","baseUrl","service","getAll","axios","get","then","response","data","create","newObject","post","delete","id","update","put","App","useState","setPersons","filter","setFilter","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","filteredPersons","toLowerCase","includes","showMessage","timeout","setTimeout","showSuccessMessage","showErrorMessage","preventDefault","existingPerson","find","window","confirm","changedPerson","returnedPerson","updatedPersons","personObject","concat","catch","errorMessage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b5c4136.chunk.js","sourcesContent":["const Filter = ({ value, onChange }) => (\n  <div>\n    Filter: <input value={value} onChange={onChange} />\n  </div>\n);\n\nexport default Filter;\n","const PersonForm = ({\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  onSubmit,\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      Name:{\" \"}\n      <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n    </div>\n    <div>\n      Number:{\" \"}\n      <input value={newNumber} onChange={(e) => setNewNumber(e.target.value)} />\n    </div>\n    <div>\n      <button type=\"submit\">Add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","const PersonDetail = ({ person, deletePerson }) => (\n  <div>\n    {person.name} {person.number}{\" \"}\n    <button onClick={() => deletePerson(person)}>Delete</button>\n  </div>\n);\n\nconst Persons = ({ persons, deletePerson }) =>\n  persons.map((person) => (\n    <PersonDetail\n      key={person.name}\n      person={person}\n      deletePerson={deletePerson}\n    />\n  ));\n\nexport default Persons;\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  const style = {\n    padding: 10,\n    position: \"fixed\",\n    top: 8,\n    color: \"#fff\",\n    background: message.type === \"success\" ? \"green\" : \"red\",\n  };\n  return <div style={style}>{message.content}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => axios.get(baseUrl).then((response) => response.data);\n\nconst create = (newObject) =>\n  axios.post(baseUrl, newObject).then((response) => response.data);\n\nconst deletePersonWithId = (id) => axios.delete(`${baseUrl}/${id}`);\n\nconst update = (id, newObject) =>\n  axios.put(`${baseUrl}/${id}`, newObject).then((response) => response.data);\n\nconst service = { getAll, create, delete: deletePersonWithId, update };\nexport default service;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState({\n    type: \"success\",\n    content: \"Hello\",\n  });\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    const existingPerson = persons.find((person) => person.name === newName);\n    if (existingPerson) {\n      const message = `${newName} is already added to phonebook. Replace the old number with a new one?`;\n\n      if (window.confirm(message)) {\n        const id = existingPerson.id;\n        const changedPerson = { ...existingPerson, number: newNumber };\n\n        personService.update(id, changedPerson).then((returnedPerson) => {\n          const updatedPersons = persons.map((person) =>\n            person.id !== id ? person : returnedPerson\n          );\n          showSuccessMessage(`${newName}'s number has been updated`);\n          setPersons(updatedPersons);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        });\n      }\n\n      return;\n    }\n\n    const personObject = { name: newName, number: newNumber };\n    personService.create(personObject).then((returnedPerson) => {\n      showSuccessMessage(`${newName}'s number has been added`);\n      setPersons(persons.concat(returnedPerson));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const deletePerson = (person) => {\n    const { name, id } = person;\n\n    if (window.confirm(`Delete \"${name}\"?`)) {\n      personService\n        .delete(id)\n        .then(() => setPersons(persons.filter((person) => person.id !== id)))\n        .catch(() => {\n          const errorMessage = `Information of \"${name}\" has already been removed from the server`;\n          showErrorMessage(errorMessage);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n\n  const showMessage = (message, timeout = 5000) => {\n    setNotificationMessage(message);\n    setTimeout(() => setNotificationMessage(null), timeout);\n  };\n\n  const showSuccessMessage = (content) =>\n    showMessage({ type: \"success\", content });\n\n  const showErrorMessage = (content) => showMessage({ type: \"error\", content });\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Filter value={filter} onChange={(e) => setFilter(e.target.value)} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        onSubmit={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n\n      <Notification message={notificationMessage} />\n    </>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}